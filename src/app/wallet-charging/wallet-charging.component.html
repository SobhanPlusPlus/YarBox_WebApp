<div class="section-main-web-app">

    <section class="main-web-app">
        <a [routerLink]="['/']" class="back-web-app"><img src="/assets/img/icon-back.svg" width="20" /></a>
        <div class="main-web-app-top main-web-app-top1 main-web-app-top2">

            <div class="web-app-title">

                <div class="title-web-app">افزایش اعتبار</div>
            </div>


            <div class="etebar">
                <div id="myCarousel" class="carousel slide" data-ride="carousel">
                    <!-- Indicators -->
                    <ol class="carousel-indicators">
                        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                        <li data-target="#myCarousel" data-slide-to="1"></li>
                        <li data-target="#myCarousel" data-slide-to="2"></li>
                        <li data-target="#myCarousel" data-slide-to="3"></li>
                        <li data-target="#myCarousel" data-slide-to="4"></li>
                        <li data-target="#myCarousel" data-slide-to="5"></li>
                    </ol>

                    <!-- Wrapper for slides -->
                    <div class="carousel-inner">

                        <div class="item active">
                            <img (click)="vlauePay(20000)" src="../assets/img/18-tasvire-kart.png" width="450" height="215">
                            <div class="carousel-caption">

                            </div>
                        </div>

                        <div class="item">
                            <img (click)="vlauePay(40000)" src="../assets/img/18-tasvire-kart-copy.png" width="450" height="215">
                            <div class="carousel-caption">

                            </div>
                        </div>

                        <div class="item">
                            <img (click)="vlauePay(60000)" src="../assets/img/18-tasvire-kart-copy2.png" width="450" height="215">
                            <div class="carousel-caption">

                            </div>
                        </div>

                        <div class="item ">
                            <img (click)="vlauePay(80000)" src="../assets/img/18-tasvire-kart-copy3.png" width="450" height="215">
                            <div class="carousel-caption">

                            </div>
                        </div>

                        <div class="item">
                            <img (click)="vlauePay(100000)" src="../assets/img/18-tasvire-kart-copy4.png" width="450" height="215">
                            <div class="carousel-caption">

                            </div>
                        </div>

                        <div class="item">

                            <img (click)="vlauePay(120000)" src="../assets/img/18-tasvire-kart-copy5.png" width="450" height="215">
                            <div class="carousel-caption">

                            </div>
                        </div>

                    </div>

                    <!-- Left and right controls -->
                    <a class="left carousel-control" href="#myCarousel" data-slide="prev">
                        <img src="/assets/img/icon-back.svg" width="20" />
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="right carousel-control" href="#myCarousel" data-slide="next">
                        <img src="/assets/img/icon-back.svg" width="20" class="crousel-right" />
                        <span class="sr-only">Next</span>
                    </a>
                </div>









            </div>


        </div>

        <div class="main-web-app main-web-app-18">

            <div class="input-pay">
                <input autocomplete="off" type="number" [(ngModel)]="pay"><span>تومان</span>
                <p>مبلغ دلخواه خود را وارد کنید .</p>
            </div>

        </div>
        <div class="btn-web-app">
            <button (click)="Pay()">پرداخت از طریق درگاه بانک سامان</button>
        </div>

    </section>

</div>


<script>
    //root
    var mc = new Hammer(document.getElementById("carousel-example-generic"));

    //mouse pointer state
    var pointerXCoord = 0;
    //image lefting
    var imageLeftCord = 0;
    //carousel width
    var carouselWidth = $(".carousel-inner").width();
    //lastmove
    var lastMove = "";

    $("#carousel-example-generic").carousel({
        //interval: false
    });

    function initialize() {
        $("#carousel-example-generic").carousel("cycle");
        carouselWidth = $(".carousel-inner").width();
        imageLeftCord = 0;
        pointerXCoord = 0;
        lastMove = "";
    }

    function snapLeft() {
        $(".item").css({
            transition: "",
            transform: ""
        });
        $(".item").removeClass("prev");
        $(".item").removeClass("next");
        $("#carousel-example-generic").carousel("prev");
        setTimeout(function() {
            initialize();
        }, 600);
    }

    function snapRight() {
        $(".item").css({
            transition: "",
            transform: ""
        });
        $(".item").removeClass("prev");
        $(".item").removeClass("next");
        $("#carousel-example-generic").carousel("next");
        setTimeout(function() {
            initialize();
        }, 600);
    }

    $(".carousel-control.left").click(function() {
        snapLeft();
    });

    $(".carousel-control.right").click(function() {
        snapRight();
    });

    //CATCH PANNING EVENTS
    mc.on("panstart panend panleft panright", function(ev) {
        //PAUSE THE CAROUSEL
        $("#carousel-example-generic").carousel("pause");

        //set next and prev with circular searching
        var prev = $(".item.active").prev();
        if (prev[0] === undefined) {
            prev = $(".carousel-inner").children().last();
        }
        prev.addClass("prev");

        var next = $(".item.active").next();
        if (next[0] === undefined) {
            next = $(".carousel-inner").children().first();
        }
        next.addClass("next");

        //if is panstart set position of cursor for calculationg different positions
        if (ev.type === "panstart") {
            pointerXCoord = ev.pointers[0].pageX;
            return 0;
        }

        //MOVING
        if (pointerXCoord !== ev.pointers[0].pageX) {
            //set last action [left-right]
            lastMove = ev.type;

            //how much do you move?
            var diff = ev.pointers[0].pageX - pointerXCoord;
            $(".item.active").css({
                transition: "initial",
                transform: "translate3d(" + (imageLeftCord + diff) + "px, 0, 0)"
            });
            $(".item.next").css({
                transition: "initial",
                transform: "translate3d(" + (imageLeftCord + diff + carouselWidth) + "px, 0, 0)"
            });
            $(".item.prev").css({
                transition: "initial",
                transform: "translate3d(" + (imageLeftCord + diff - carouselWidth) + "px, 0, 0)"
            });

            //set variables for next turn
            imageLeftCord += diff;
            pointerXCoord = ev.pointers[0].pageX;
        }

        //end
        if (ev.type === "panend") {
            if (imageLeftCord > carouselWidth / 2) {
                if (lastMove === "panright") {
                    snapLeft();
                    return 0;
                }
            }

            if (imageLeftCord < -(carouselWidth / 2)) {
                if (lastMove === "panleft") {
                    snapRight();
                    return 0;
                }
            }

            //return to the start position
            $(".item").css({
                transition: "",
                transform: ""
            });
            initialize();
        }
    });
</script>