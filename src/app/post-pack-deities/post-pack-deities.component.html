<div class="section-main-web-app">

    <section class="main-web-app">

        <div class="main-web-app-top">

            <div class="web-app-title">

                <div class="title-web-app">جزییات مرسوله</div>
            </div>

        </div>
        <a (click)="Back()" class="back-web-app"><img src="/assets/img/icon-back.svg" width="20" /></a>
        <div class="main-web-app main-web-app-pack">
            <form name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm" class="maghsad">
                <div class="pack-part">
                    <div class="btn-pack" data-toggle="modal" data-target="#myModal">
                        <img src="/assets/img/3-mosbat.svg" width="20" height="20"><span>اضافه کردن بسته</span>

                    </div>


                    <div id="myModal" class="modal fade" role="dialog" #closeModal>
                        <div class="modal-dialog">

                            <div class="modal-content modal-content-packs">

                                <div class="modal-body">
                                    <img src="/assets/img/6-tedade-basteh.svg" width="30" height="30">

                                    <label>تعداد بسته</label>
                                    <div class="quantity">
                                        <!-- (input)="onSearchChange($event.target.value)" -->
                                        <!--input autocomplete="off" type="number" [(ngModel)]="count" class="number-pack" name="count" min="1" /-->

                                        <select [(ngModel)]="count" name="count" class="select-tedad" onfocus="this.size=10;" onblur="this.size=1;" onchange="this.size=1; this.blur();"> 
                                            
                                            <option>1</option>
                                            <option>2</option>
                                            <option>3</option>
                                            <option>4</option>
                                            <option>5</option>
                                            <option>6</option>
                                            <option>7</option>
                                            <option>8</option>
                                            <option>9</option>
                                            <option>10</option>
                                            <option>11</option>
                                            <option>12</option>
                                            <option>13</option>
                                            <option>14</option>
                                            <option>15</option>
                                            <option>16</option>
                                            <option>17</option>
                                            <option>18</option>
                                            <option>19</option>
                                            <option>20</option>
                                            <option>21</option>
                                            <option>22</option>
                                            <option>23</option>
                                            <option>24</option>
                                            <option>25</option>
                                            <option>26</option>
                                            <option>27</option>
                                            <option>28</option>
                                            <option>29</option>
                                            <option>30</option>
                                            <option>31</option>
                                            <option>32</option>
                                            <option>33</option>
                                            <option>34</option>
                                            <option>35</option>
                                            <option>36</option>
                                            <option>37</option>
                                            <option>38</option>
                                            <option>39</option>
                                            <option>40</option>
                                            <option>41</option>
                                            <option>42</option>
                                            <option>43</option>
                                            <option>44</option>
                                            <option>45</option>
                                            <option>46</option>
                                            <option>47</option>
                                            <option>48</option>
                                            <option>49</option>
                                            <option>50</option>
                                            <option>51</option>
                                            <option>52</option>
                                            <option>53</option>
                                            <option>54</option>
                                            <option>55</option>
                                            <option>56</option>
                                            <option>57</option>
                                            <option>58</option>
                                            <option>59</option>
                                            <option>60</option>
                                            <option>61</option>
                                            <option>62</option>
                                            <option>63</option>
                                            <option>64</option>
                                            <option>65</option>
                                            <option>66</option>
                                            <option>67</option>
                                            <option>68</option>
                                            <option>69</option>
                                            <option>70</option>
                                            <option>71</option>
                                            <option>72</option>
                                            <option>73</option>
                                            <option>74</option>
                                            <option>75</option>
                                            <option>76</option>
                                            <option>77</option>
                                            <option>78</option>
                                            <option>79</option>
                                            <option>80</option>
                                            <option>81</option>
                                            <option>82</option>
                                            <option>83</option>
                                            <option>84</option>
                                            <option>85</option>
                                            <option>86</option>
                                            <option>87</option>
                                            <option>88</option>
                                            <option>89</option>
                                            <option>90</option>
                                            <option>91</option>
                                            <option>92</option>
                                            <option>93</option>
                                            <option>94</option>
                                            <option>95</option>
                                            <option>96</option>
                                            <option>97</option>
                                            <option>98</option>
                                            <option>99</option>
                                            <option>100</option>
                                        


                                        </select>

                                        <!--div id="inc-button" (click)="CountPacks(1)" class="spinner-button">+</div>
            <div id="dec-button" (click)="CountPacks(0)" class="spinner-button">-</div-->
                                    </div>
                                    <span *ngIf="count==null" class="error-null-tedad">لطفا مقادیر را  پر کنید (از اعداد انگلیسی استفاده کنید)</span>
                                    <select (change)="SelectType($event.target.value)">
            <option *ngFor="let type of PostPackType" value="{{type.id}}" >{{type.title}} </option>
         
            </select>



                                    <div class="btn-circle-download" id="btn-ok-pack" id="myModal">
                                        <span class='pulse-button' (click)="AcceptPacks()"><img src="/assets/img/icon-ok.svg" width="20" /></span>
                                    </div>



                                </div>

                            </div>

                        </div>
                    </div>


                    <div class="packs">
                        <div *ngFor="let pack of packs; let i = index" class="pack-item"><span class="pack-item-number"> {{i+1}}</span>{{pack.count}} عدد {{getPostPackType(pack.typeId) }} ثبت شد
                            <a><img src="/assets/img/trash.png" width="20" (click)="deletepack(pack)"></a>
                        </div>
                        <p *ngIf="packs.length==0" class="nul-pack"><img src="/assets/img/2-ghavanin.svg" width="25" height="35">لطفا مرسوله خود را وارد کنید
                            <br><span class="description-type-pack">لطفا وزن هر بسته ( کارتن ، گونی و ...) و تعداد آن را وارد نمائید.</span>
                        </p>
                        <span *ngIf="f.submitted && packs.length==0" class="border-pack"></span>
                    </div>




                </div>
                <br>
                <div class="pack-part pack-part2">
                    <img src="/assets/img/6-baste-bandi.svg" width="80" height="80" class="pack-part-i">
                    <label for="pack-web-app">بسته بندی شود</label>

                    <div class="radiobtn-pack">
                        <input autocomplete="off" id="radio-1" type="radio" name="Data1" value="agree" [checked]="mainPacks.isPacking==true? true: false" (click)="PackingStatus(true)" />
                        <label for="radio-1"><img src="/assets/img/icon-ok.svg" width="40" class="radiobtn1" data-toggle="modal" data-target="#myModal7"/><img src="/assets/img/icon-ok-s.svg" width="40" class="radiobtn2" /></label>
                        <input autocomplete="off" id="radio-2" type="radio" name="Data1" value="disagree" [checked]="mainPacks.isPacking==false? true: false" (click)="PackingStatus(false)" />
                        <label for="radio-2"><img src="/assets/img/icon-close.svg" width="20" class="radiobtn3" /><img src="/assets/img/icon-close-w.svg" width="20" class="radiobtn4" /></label>
                    </div>
                </div>
                <br>

                <div class="pack-part pack-part2">
                    <img src="/assets/img/6-bime.svg" width="80" height="80" class="pack-part-i">
                    <label for="bime-web-app">بیمه شود</label>
                    <div class="radiobtn-pack">
                        <input autocomplete="off" id="radio-3" type="radio" name="Data2" value="agree" [checked]="mainPacks.isInsurance==true? true: false" (click)="InsuranceStatus(true)" />
                        <label for="radio-3"><img src="/assets/img/icon-ok.svg" width="40" class="radiobtn1" /><img src="/assets/img/icon-ok-s.svg" width="40" class="radiobtn2" /></label>
                        <input autocomplete="off" id="radio-4" type="radio" name="Data2" value="disagree" [checked]="mainPacks.isInsurance==false? true: false" (click)="InsuranceStatus(false)" />
                        <label for="radio-4"><img src="/assets/img/icon-close.svg" width="20" class="radiobtn3" /><img src="/assets/img/icon-close-w.svg" width="20" class="radiobtn4" /></label>
                    </div>

                </div>
                <br>

                <div class="form-pack pack-part2">
                    <input autocomplete="off" type="tel" placeholder="ارزش مرسوله خود را وارد کنید" [hidden]="!mainPacks.isInsurance==true" required [(ngModel)]="mainPacks.insurancePrice" name="insurancePrice" #insurancePrice="ngModel" (ngModelChange)="ngModelChangeEvent($event)">
                    <p *ngIf="mainPacks.isInsurance==true && mainPacks.insurancePrice>=1">{{mainPacks.insurancePrice | toman}}</p>

                    <br>

                    <div *ngIf="f.submitted && insurancePrice.invalid && mainPacks.isInsurance==true" class="invalid-feedback">
                        <div *ngIf="insurancePrice.errors.required" class="arzesh-pack"> ارزش مرسوله خود را وارد کنید (از اعداد انگلیسی استفاده نماید)</div>
                    </div>

                    <input autocomplete="off" type="text" placeholder="توضیحات اقلام داخل بسته" [(ngModel)]="mainPacks.content" name="content" #content class="des-pack" (ngModelChange)="onSelectedChange($event)">

                    <!-- <button data-toggle="collapse" data-target="#demo" class="setting-send collapsed"><span class="setting-span"><span class="setting-span1"></span></span>تنظیمات ارسال</button>

                    <div id="demo" class="collapse setting-send-part">
                        <label for="checkbox-1">
                           
                            <div class="radiobtn-pack checkbox-pack">
                                <input autocomplete="off" id="checkbox-1" type="checkbox" name="time" value="agree" />
                                <label for="checkbox-1"><img src="/assets/img/icon-ok.svg" width="40" class="radiobtn1" /><img src="/assets/img/icon-ok-s.svg" width="40" class="radiobtn2" /></label>
                            </div>

                        ارسال زمان بندی شده
                        </label>
                    <div class="data-sending"><span>در تاریخ</span>
                        <select>
                            <option value="30 شهریور">30 شهریور</option>
                            <option value="31 شهریور">31 شهریور</option>
                            <option value="1 مهر">1 مهر</option>
                        </select>
                        <select class="data-min">
                            <option value="00">00</option>
                            <option value="1">01</option>
                            <option value="2">02</option>
                            <option value="3">03</option>
                            <option value="4">04</option>
                            <option value="5">05</option>
                            <option value="6">06</option>
                            <option value="7">07</option>
                            <option value="8">08</option>
                            <option value="9">09</option>
                            <option value="10">10</option>
                            <option value="11">11</option>
                            <option value="12">12</option>
                            <option value="13">13</option>
                            <option value="14">14</option>
                            <option value="15">15</option>
                            <option value="16">16</option>
                            <option value="17">17</option>
                            <option value="18">18</option>
                            <option value="19">19</option>
                            <option value="20">20</option>
                            <option value="21">21</option>
                            <option value="22">22</option>
                            <option value="23">23</option>
                            <option value="24">24</option>
                            <option value="25">25</option>
                            <option value="26">26</option>
                            <option value="27">27</option>
                            <option value="28">28</option>
                            <option value="29">29</option>
                            <option value="30">30</option>
                            <option value="31">31</option>
                            <option value="32">32</option>
                            <option value="33">33</option>
                            <option value="34">34</option>
                            <option value="35">35</option>
                            <option value="36">36</option>
                            <option value="37">37</option>
                            <option value="38">38</option>
                            <option value="39">39</option>
                            <option value="40">40</option>
                            <option value="41">41</option>
                            <option value="42">42</option>
                            <option value="43">43</option>
                            <option value="44">44</option>
                            <option value="45">45</option>
                            <option value="46">46</option>
                            <option value="47">47</option>
                            <option value="48">48</option>
                            <option value="49">49</option>
                            <option value="50">50</option>
                            <option value="51">51</option>
                            <option value="52">52</option>
                            <option value="53">53</option>
                            <option value="54">54</option>
                            <option value="55">55</option>
                            <option value="56">56</option>
                            <option value="57">57</option>
                            <option value="58">58</option>
                            <option value="59">59</option>

                        </select> :
                        <select class="data-hour">
                            <option value="0">0</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                            <option value="9">9</option>
                            <option value="10">10</option>
                            <option value="11">11</option>
                            <option value="12">12</option>
                            <option value="13">13</option>
                            <option value="14">14</option>
                            <option value="15">15</option>
                            <option value="16">16</option>
                            <option value="17">17</option>
                            <option value="18">18</option>
                            <option value="19">19</option>
                            <option value="20">20</option>
                            <option value="21">21</option>
                            <option value="22">22</option>
                            <option value="23">23</option>
                        </select>
                    </div>

                    <label for="checkbox-2">
                        <div class="radiobtn-pack checkbox-pack">
                            <input autocomplete="off" id="checkbox-2" type="checkbox" name="paking-1" value="agree" />
                            <label for="checkbox-2"><img src="/assets/img/icon-ok.svg" width="40" class="radiobtn1" /><img src="/assets/img/icon-ok-s.svg" width="40" class="radiobtn2" /></label>
                        </div>
                    بسته شکستنی است
                    </label>

                    <label for="checkbox-3">     
                        <div class="radiobtn-pack checkbox-pack">
                            <input autocomplete="off" id="checkbox-3" type="checkbox" name="paking-22" value="agree" />
                            <label for="checkbox-3"><img src="/assets/img/icon-ok.svg" width="40" class="radiobtn1" /><img src="/assets/img/icon-ok-s.svg" width="40" class="radiobtn2" /></label>
                        </div>
                    بسته نامتعارف است
                    </label>
                    </div> -->

                </div>
                <!--button type="submit">send</button-->
                <div class="btn-web-app">
                    <button type="submit">ثبت درخواست</button>
                </div>
            </form>
        </div>
        <app-error *ngIf="error==true"></app-error>


    </section>

</div>



<div id="myModal7" class="modal fade" role="dialog">
    <div class="modal-dialog">


        <div class="modal-content">

            <div class="modal-body">
                <p>بسته بندی شامل هزینه می باشد</p>
                <div class="btn-circle-download" id="btn-ok-address" data-dismiss="modal">
                    <span class='pulse-button' data-dismiss="modal"><img src="/assets/img/icon-ok.svg" width="20" /></span>
                </div>

            </div>

        </div>

    </div>
</div>